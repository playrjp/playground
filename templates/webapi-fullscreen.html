{% extends 'templates/layout.html' %}

{% block head %}
<style>
    /* make the video stretch to fill the screen in WebKit */
    :-webkit-full-screen #imageElement {
        width: 100%;
        height: 100%;
    }
</style>
{% endblock %}

{% block content %}

{{ contents | safe }}

<div>
    <img src="http://placehold.jp/20/FF837B/ffffff/640x360.png" alt="a cute kitten" id="imageElement" width="640" height="360">
</div>

<p>
    Enterキーで画像が<br>
    Zキーで画面全体がフルスクリーン起動
</p>

<script>
    const imageElement = document.getElementById("imageElement");

    function toggleFullScreen(target) {
        if (!document.fullscreenElement) {

            /**
             * フルスクリーン起動
             */

            if (target.requestFullscreen) {
                // 標準
                target.requestFullscreen();
            } else if (target.msRequestFullscreen) {
                // ms フォールバック
                target.msRequestFullscreen();
            } else if (target.webkitRequestFullscreen) {
                // webkit フォールバック
                target.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
            }
        } else {

            /**
             * フルスクリーン終了
             */

            if (document.exitFullscreen) {
                // 標準
                document.exitFullscreen();
            } else if (document.msExitFullscreen) {
                // ms フォールバック
                document.msExitFullscreen();
            } else if (document.webkitExitFullscreen) {
                // webkit フォールバック
                document.webkitExitFullscreen();
            }
        }
    }

    document.addEventListener("keydown", e => {
        if (e.keyCode === 13) {
            // Hook Enter Key
            toggleFullScreen(imageElement);
        } else if (e.keyCode === 90) {
            // Hook Z Key
            toggleFullScreen(document.documentElement);
        }
    }, false);

</script>


{% endblock %}
