<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>WebAPI Fullscreen - plyground</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="My Playground for Future of Web Technology. ">
    <link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/common.css">
    <link href='https://fonts.googleapis.com/css?family=Share+Tech+Mono' rel='stylesheet' type='text/css'>
    
<style>
    /* make the video stretch to fill the screen in WebKit */
    :-webkit-full-screen #imageElement {
        width: 100%;
        height: 100%;
    }
</style>

</head>
<body>
    <header id="header" role="banner">
        <h1><a href="http://ground.plyrs.net">plyground</a></h1>
        <nav id="navigation" role="navigation">
            <ul>
                <li>
                    <a href="https://plyrs.net">plyr</a>
                </li>
                <li>
                    <a href="http://log.plyrs.net">plylog</a>
                </li>
            </ul>
        </nav>
    </header>
    <main id="main" role="main">
        

<h1 id="webapi-fullscreen">WebAPI Fullscreen</h1>
<ul>
<li><a href="https://fullscreen.spec.whatwg.org/">Fullscreen API Standard</a></li>
<li><a href="https://developer.mozilla.org/ja/docs/Web/Guide/DOM/Using_full_screen_mode">フルスクリーンモードを使用する - Web developer guide | MDN</a></li>
<li><a href="http://caniuse.com/#feat=fullscreen">Can I use...</a></li>
</ul>


<div>
    <a href="#" id="imageWrapper"><img src="https://placehold.jp/20/FF837B/ffffff/640x360.png" alt="a cute kitten" id="imageElement" width="640" height="360"></a>
</div>

<p>画像をクリックで画像をフルスクリーン化</p>

<button id="button">ボタン</button>

<p>ボタンをクリックで画面を全画面化</p>

<script>
    const button = document.getElementById('button');
    const imageWrapper = document.getElementById('imageWrapper');
    const imageElement = document.getElementById('imageElement');

    function toggleFullScreen(target) {
        if (!document.fullscreenElement) {

            /**
             * フルスクリーン起動
             */

            if (target.requestFullscreen) {
                // 標準
                target.requestFullscreen();
            } else if (target.mozRequestFullScreen) {
                // Firefox フォールバック
                target.mozRequestFullScreen();
            } else if (target.msRequestFullscreen) {
                // Edge フォールバック
                target.msRequestFullscreen();
            } else if (target.webkitRequestFullscreen) {
                // WebKit フォールバック
                target.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
            }

        } else {

            /**
             * フルスクリーン終了
             */

            if (document.exitFullscreen) {
                // 標準
                document.exitFullscreen();
            } else if (document.mozCancelFullScree) {
                // Firefox フォールバック
                document.mozCancelFullScree();
            } else if (document.msExitFullscreen) {
                // Edge フォールバック
                document.msExitFullscreen();
            } else if (document.webkitExitFullscreen) {
                // WebKit フォールバック
                document.webkitExitFullscreen();
            }
        }
    }

    imageWrapper.addEventListener('click', e => {
        e.preventDefault();

        toggleFullScreen(imageElement);
    });

    button.addEventListener('click', e => {
        e.preventDefault();

        toggleFullScreen(document.documentElement);
    });
</script>



    </main>
    <footer id="footer" role="contentinfo">
        <p id="updates">
            Update:Sun Mar 13 2016
        </p>
        <p id="copyright">
            ©2015 plyr. Powered by <a href="http://www.metalsmith.io/" rel="nofollow" target="_blank">Metalsmith</a>
        </p>
    </footer>
    

    <script>
        window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
        ga('create','UA-68414504-3','auto');ga('send','pageview')
    </script>
    <script src="https://www.google-analytics.com/analytics.js" async defer></script>
</body>
</html>
